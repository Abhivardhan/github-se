(this["webpackJsonpgithub-se"]=this["webpackJsonpgithub-se"]||[]).push([[0],{13:function(e,t,r){e.exports=r(21)},18:function(e,t,r){},21:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(11),s=r.n(c),o=(r(18),r(4)),u=r(12),l=r(1),i=r.n(l),p=r(2),d=r(6),m=r(7),h=r(9),f=r(8),v=function(e){Object(h.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:""},e.handleInput=function(t){e.setState({username:t.target.value})},e}return Object(m.a)(r,[{key:"render",value:function(){var e=this.props.fetchData,t=this.state.username;return n.a.createElement("div",null,n.a.createElement("input",{value:this.state.username,type:"text",name:"username",placeholder:"Search User",onChange:this.handleInput}),n.a.createElement("button",{onClick:function(){return e(t)},className:"btn btn-large btn-success"},"Search"))}}]),r}(n.a.Component);function g(e){var t=e.user;return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("img",{src:t.avatar_url}),n.a.createElement("h1",null,t.name),n.a.createElement("p",null,t.company),n.a.createElement("p",null,t.bio)))}function b(e){var t=e.repo;return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("a",{href:t.html_url,target:"_blank"},n.a.createElement("h3",null,t.full_name)),n.a.createElement("p",null,n.a.createElement("strong",null,"Stars: "),t.stargazers_count),n.a.createElement("p",null,n.a.createElement("strong",null,"Watchers: "),t.watchers_count)))}var E=function(e){Object(h.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(d.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={user:null,repos:[],pageIndex:1,userDataError:null,reposError:null,error:null,loader:!1,fetchingRepos:!1},e.fetchUserData=function(){var e=Object(p.a)(i.a.mark((function e(t){var r,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/users/".concat(t));case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",{data:a});case 8:return e.next=10,r.json();case 10:return n=e.sent.message,e.abrupt("return",{error:n});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.fetchUserRepos=function(){var t=Object(p.a)(i.a.mark((function t(r){var a,n,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.pageIndex,t.next=3,fetch("https://api.github.com/users/".concat(r,"/repos?page=").concat(a,"&per_page=").concat(10));case 3:if(!(n=t.sent).ok){t.next=9;break}return t.next=7,n.json();case 7:return c=t.sent,t.abrupt("return",{data:c,pageIndex:a+1});case 9:return t.next=11,n.json();case 11:return s=t.sent.message,t.abrupt("return",{error:s});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetchData=function(){var t=Object(p.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loader:!0},Object(p.a)(i.a.mark((function t(){var a,n,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([e.fetchUserData(r),e.fetchUserRepos(r)]);case 3:if(a=t.sent,n=Object(u.a)(a,2),c=n[0],s=n[1],!c.data||!s.data){t.next=9;break}return t.abrupt("return",e.setState({user:c.data,repos:s.data,pageIndex:2,loader:!1}));case 9:e.setState({userDataError:c.error,reposError:s.error,loader:!1}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.setState({error:"There was some error",loader:!0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadMore=Object(p.a)(i.a.mark((function t(){var r,a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.state.repos,t.next=3,e.fetchUserRepos(e.state.user.login);case 3:r=t.sent,a=r.data,n=r.pageIndex,a&&e.setState((function(e){return{repos:[].concat(Object(o.a)(e.repos),Object(o.a)(a)),pageIndex:n}}));case 7:case"end":return t.stop()}}),t)}))),e.loadPage=Object(p.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.fetchingRepos){t.next=2;break}return t.abrupt("return");case 2:e.setState({fetchingRepos:!0},Object(p.a)(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUserRepos(e.state.user.login);case 2:r=t.sent,(a=r.data)&&e.setState((function(e){return{repos:[].concat(Object(o.a)(e.repos),Object(o.a)(a)),pageIndex:e.pageIndex+1,fetchingRepos:!1}}));case 5:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)}))),e.handleScroll=function(){var t=window.scrollY,r=window.scrollMaxY||document.documentElement.scrollHeight-document.documentElement.clientHeight,a=e.state,n=a.pageIndex,c=a.user;c&&10*(n-1)<=c.public_repos&&r-t<=100&&e.loadPage()},e}return Object(m.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.state,t=e.loader,r=e.user,a=e.repos,c=(e.pageIndex,e.userDataError),s=e.reposError,o=e.error;return o&&console.log(o),n.a.createElement("div",null,n.a.createElement(v,{fetchData:this.fetchData}),t&&n.a.createElement("p",null,"Loading...."),c&&n.a.createElement("p",{className:"text-danger"},c),!c&&r&&n.a.createElement(g,{user:r}),s&&n.a.createElement("p",{className:"text-danger"},s),!s&&a&&a.map((function(e){return n.a.createElement(b,{key:e.id,repo:e})})))}}]),r}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(20);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.564f31bc.chunk.js.map